@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
@import url('https://fonts.cdnfonts.com/css/akbar');
@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@500;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --header-height: 4rem; /* 64px - matches h-16 from header */
  --background-start-rgb: 255, 255, 255;
}

.dark {
  --background-start-rgb: 17, 24, 39;
}

/* Theme transition settings */
* {
  @apply transition-colors duration-300;
}

.transition-bg {
  transition: background-color 0.3s ease-in-out,
              backdrop-filter 0.3s ease-in-out,
              border-color 0.3s ease-in-out;
}

.simpsons-font {
  font-family: 'Akbar', 'Comic Sans MS', cursive;
  letter-spacing: 0.05em;
}

.kaiyl-logo {
  font-family: 'Space Grotesk', sans-serif;
  font-weight: 700;
  letter-spacing: -0.02em;
  @apply bg-gradient-to-r from-light-primary to-light-accent dark:from-[#71ADBA] dark:to-[#9C71BA] bg-clip-text text-transparent;
  position: relative;
}

.kaiyl-logo::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  width: 100%;
  height: 2px;
  @apply bg-gradient-to-r from-light-primary to-light-accent dark:from-[#71ADBA] dark:to-[#9C71BA];
  transform: scaleX(0);
  transform-origin: right;
  transition: transform 0.3s ease;
}

.kaiyl-logo:hover::after {
  transform: scaleX(1);
  transform-origin: left;
}

@layer base {
  * {
    @apply transition-colors duration-250;
  }

  body {
    @apply bg-light-background dark:bg-dark-background text-light-text dark:text-dark-text;
  }

  /* Modern Scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-light-border dark:bg-dark-border rounded-full;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-light-primary dark:bg-dark-primary rounded-full hover:bg-light-secondary dark:hover:bg-dark-secondary;
  }
}

@layer components {
  .page-container {
    @apply min-h-screen pt-[calc(var(--header-height)+4rem)] pb-12 px-4 sm:px-6 lg:px-8 relative z-0;
  }

  /* Early Access Banner Container */
  .early-access-banner {
    @apply mt-[calc(var(--header-height)+2rem)] mb-6;
  }

  /* Safe area padding for mobile devices */
  @supports (padding: env(safe-area-inset-top)) {
    .page-container {
      @apply pt-[calc(var(--header-height)+4rem+env(safe-area-inset-top))] pb-[calc(0.75rem+env(safe-area-inset-bottom))] px-[calc(1rem+env(safe-area-inset-right))] sm:px-[calc(1.5rem+env(safe-area-inset-right))] lg:px-[calc(2rem+env(safe-area-inset-right))];
    }
  }

  .btn {
    @apply px-6 py-3 rounded-full font-semibold transition-all duration-300;
  }
  
  .btn-primary {
    @apply bg-light-primary dark:bg-dark-primary text-white
           hover:bg-light-secondary dark:hover:bg-dark-secondary
           shadow-sm hover:shadow-md;
  }
  
  .btn-secondary {
    @apply bg-light-background dark:bg-dark-backgroundSecondary
           text-light-text dark:text-dark-text
           border border-light-border dark:border-dark-border
           hover:border-light-primary dark:hover:border-dark-primary;
  }

  .btn-cta {
    @apply bg-light-cta dark:bg-dark-cta text-white
           hover:opacity-90 shadow-lg hover:shadow-xl
           hover:shadow-light-cta/20 dark:hover:shadow-dark-cta/20;
  }
  
  .card {
    @apply bg-white dark:bg-dark-backgroundSecondary
           border border-light-border dark:border-dark-border
           rounded-2xl p-6 shadow-sm hover:shadow-md
           transition-all duration-300;
  }
  
  .glass-panel {
    @apply bg-white/80 dark:bg-dark-backgroundSecondary/80
           backdrop-blur-lg rounded-3xl
           border border-light-border dark:border-dark-border
           shadow-xl;
  }
  
  .nav-link {
    @apply text-light-textSoft dark:text-dark-textSoft
           hover:text-light-primary dark:hover:text-dark-primary;
  }

  .mobile-nav-link {
    @apply block w-full px-4 py-3
           text-light-textSoft dark:text-dark-textSoft
           hover:text-light-primary dark:hover:text-dark-primary
           hover:bg-light-border/50 dark:hover:bg-dark-border/50
           rounded-lg;
  }

  .heading-primary {
    @apply text-light-primary dark:text-dark-primary font-bold;
  }

  .heading-secondary {
    @apply text-light-secondary dark:text-dark-secondary font-semibold;
  }

  .text-soft {
    @apply text-light-textSoft dark:text-dark-textSoft;
  }
}

/* Smooth transition for theme changes */
* {
  @apply transition-colors duration-250;
}

/* Gradient Animation */
@keyframes gradient {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.animate-gradient {
  animation: gradient 8s linear infinite;
}

/* Logo Float Animation */
@keyframes float {
  0%, 100% {
    transform: translateY(0) translateX(0);
  }
  25% {
    transform: translateY(-10px) translateX(5px);
  }
  50% {
    transform: translateY(0) translateX(10px);
  }
  75% {
    transform: translateY(10px) translateX(5px);
  }
}

/* Shine Animation */
@keyframes shine {
  0% { mask-position: -50%; }
  100% { mask-position: 150%; }
}

/* Modern Loading Animation */
.loading-dots {
  @apply flex gap-1 items-center justify-center;
}

.loading-dots div {
  @apply w-2 h-2 bg-light-primary dark:bg-[#71ADBA] rounded-full;
  animation: bounce 0.5s infinite alternate;
}

.loading-dots div:nth-child(2) {
  animation-delay: 0.2s;
}

.loading-dots div:nth-child(3) {
  animation-delay: 0.4s;
}

@keyframes bounce {
  to {
    transform: translateY(-4px);
  }
}

/* Prevent content shift on mobile when scrollbar appears */
html {
  scrollbar-gutter: stable;
}

/* Safe area insets for modern iOS devices */
@supports (padding: max(0px)) {
  body {
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
    padding-top: env(safe-area-inset-top);
  }
}

@keyframes slide-up {
  from {
    transform: translateY(100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.animate-slide-up {
  animation: slide-up 0.3s ease-out forwards;
}
